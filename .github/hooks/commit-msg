#!/bin/sh

# Define the regular expression for Jira ticket numbers
REGEX="MAT-[0-9]+\s.*"

# Extract the commit message
MESSAGE=$(cat "$1")

# Check if the message contains a valid Jira ticket number
if [[ ! $MESSAGE =~ $REGEX ]]; then
  echo "ERROR: Commit message must contain a valid Jira ticket number (e.g., ABC-123)"
  echo "Please follow the format: <Jira ticket number>: <commit message>"
  exit 1
fi

# Allow the commit if the check passes
exit 0
